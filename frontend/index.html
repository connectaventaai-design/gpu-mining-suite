<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GPU Mining Suite - Dashboard</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <div class="header-content">
                <h1>‚õèÔ∏è GPU Mining Suite</h1>
                <div class="header-actions">
                    <button id="theme-toggle" class="btn btn-icon" title="Toggle theme">üåô</button>
                    <button id="settings-btn" class="btn btn-icon" title="Settings">‚öôÔ∏è</button>
                    <span class="status-indicator" id="connection-status">‚óè</span>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main>
            <!-- Miner Control Section -->
            <section class="card">
                <div class="card-header">
                    <h2>üéÆ Miner Control</h2>
                    <span class="badge" id="miner-status-badge">Stopped</span>
                </div>
                <div class="card-body">
                    <div class="miner-info">
                        <div class="info-item">
                            <span class="label">Coin:</span>
                            <span class="value" id="current-coin">-</span>
                        </div>
                        <div class="info-item">
                            <span class="label">Hashrate:</span>
                            <span class="value" id="current-hashrate">0 MH/s</span>
                        </div>
                        <div class="info-item">
                            <span class="label">Uptime:</span>
                            <span class="value" id="current-uptime">0h 0m</span>
                        </div>
                        <div class="info-item">
                            <span class="label">Shares:</span>
                            <span class="value" id="current-shares">0/0</span>
                        </div>
                    </div>
                    
                    <div class="coin-selector">
                        <label for="coin-select">Select Coin:</label>
                        <select id="coin-select" class="select">
                            <option value="RVN">Ravencoin (RVN)</option>
                            <option value="ETC">Ethereum Classic (ETC)</option>
                            <option value="ERG">Ergo (ERG)</option>
                            <option value="FLUX">Flux (FLUX)</option>
                            <option value="KAS">Kaspa (KAS)</option>
                            <option value="ALPH">Alephium (ALPH)</option>
                        </select>
                    </div>
                    
                    <div class="control-buttons">
                        <button id="start-mining-btn" class="btn btn-success">‚ñ∂Ô∏è Start Mining</button>
                        <button id="stop-mining-btn" class="btn btn-danger" disabled>‚èπÔ∏è Stop Mining</button>
                        <button id="restart-mining-btn" class="btn btn-warning" disabled>üîÑ Restart</button>
                    </div>
                </div>
            </section>

            <!-- GPU Monitoring Grid -->
            <div class="grid-2">
                <!-- GPU Stats -->
                <section class="card">
                    <div class="card-header">
                        <h2>üéØ GPU Statistics</h2>
                        <span class="update-time" id="gpu-update-time">Updated: -</span>
                    </div>
                    <div class="card-body">
                        <div id="gpu-stats-container">
                            <!-- GPU stats will be dynamically inserted here -->
                        </div>
                    </div>
                </section>

                <!-- Profitability -->
                <section class="card">
                    <div class="card-header">
                        <h2>üí∞ Profitability</h2>
                        <button id="refresh-profit-btn" class="btn btn-sm">üîÑ</button>
                    </div>
                    <div class="card-body">
                        <div class="profit-grid" id="profit-container">
                            <!-- Profitability data will be inserted here -->
                        </div>
                    </div>
                </section>
            </div>

            <!-- Charts -->
            <div class="grid-2">
                <!-- Temperature Chart -->
                <section class="card">
                    <div class="card-header">
                        <h2>üå°Ô∏è Temperature History</h2>
                    </div>
                    <div class="card-body">
                        <canvas id="temp-chart"></canvas>
                    </div>
                </section>

                <!-- Hashrate Chart -->
                <section class="card">
                    <div class="card-header">
                        <h2>üìä Hashrate History</h2>
                    </div>
                    <div class="card-body">
                        <canvas id="hashrate-chart"></canvas>
                    </div>
                </section>
            </div>

            <!-- Earnings -->
            <section class="card">
                <div class="card-header">
                    <h2>üíµ Earnings</h2>
                </div>
                <div class="card-body">
                    <div class="earnings-grid">
                        <div class="earnings-card">
                            <div class="earnings-label">Today</div>
                            <div class="earnings-value" id="earnings-today">$0.00</div>
                        </div>
                        <div class="earnings-card">
                            <div class="earnings-label">This Week</div>
                            <div class="earnings-value" id="earnings-week">$0.00</div>
                        </div>
                        <div class="earnings-card">
                            <div class="earnings-label">This Month</div>
                            <div class="earnings-value" id="earnings-month">$0.00</div>
                        </div>
                        <div class="earnings-card">
                            <div class="earnings-label">Est. Monthly</div>
                            <div class="earnings-value" id="earnings-est">$0.00</div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer>
            <p>GPU Mining Suite v1.0 | <a href="https://github.com/connectaventaai-design/gpu-mining-suite" target="_blank">GitHub</a> | API Status: <span id="api-status">Connected</span></p>
        </footer>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>‚öôÔ∏è Settings</h2>
                <button class="btn btn-icon" id="close-settings">‚úï</button>
            </div>
            <div class="modal-body">
                <div class="settings-section">
                    <h3>Mining Configuration</h3>
                    <div class="form-group">
                        <label for="wallet-address">Wallet Address:</label>
                        <input type="text" id="wallet-address" class="input" placeholder="Your wallet address">
                    </div>
                    <div class="form-group">
                        <label for="worker-name">Worker Name:</label>
                        <input type="text" id="worker-name" class="input" placeholder="GTX1660S">
                    </div>
                </div>

                <div class="settings-section">
                    <h3>Notifications</h3>
                    <div class="form-group">
                        <label for="discord-webhook">Discord Webhook URL:</label>
                        <input type="text" id="discord-webhook" class="input" placeholder="https://discord.com/api/webhooks/...">
                    </div>
                    <div class="form-group">
                        <label for="telegram-token">Telegram Bot Token:</label>
                        <input type="text" id="telegram-token" class="input" placeholder="123456:ABC-DEF...">
                    </div>
                    <div class="form-group">
                        <label for="telegram-chat-id">Telegram Chat ID:</label>
                        <input type="text" id="telegram-chat-id" class="input" placeholder="123456789">
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="enable-alerts">
                            Enable Alerts
                        </label>
                    </div>
                    <button id="test-notifications-btn" class="btn">Test Notifications</button>
                </div>

                <div class="settings-section">
                    <h3>Automation</h3>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="enable-watchdog">
                            Enable Watchdog (Auto-restart on crash)
                        </label>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="enable-auto-switch">
                            Enable Auto-Switch (Switch to most profitable coin)
                        </label>
                    </div>
                </div>

                <div class="modal-footer">
                    <button id="save-settings-btn" class="btn btn-success">Save Settings</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/api.js"></script>
    <script src="js/charts.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
